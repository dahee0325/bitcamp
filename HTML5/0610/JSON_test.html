<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>JSON 객체 활용</title>
    <script>
        
        //load가 다 되면 (body부분이 로드가 다 되면 이 함수를 실행)
        window.onload = function() {
            //json를 객체로 만들어서 들어가 있는 데이터 가져다가 사용할 수 있다.
            var h1_str = document.getElementById("json").innerHTML;
            alert(h1_str);
            
            //json 아이디값을 가진 태그에 test값을 넣음 
            document.getElementById("json").innerHTML='test';
            
            var book = {
                name : '열혈JAVA',
                price : 1000,
                publisher : '오렌지미디어'
            };//사용자로부터 받은 데이터를 기반으로 객체를 생성
            
            //자바스크립트 객체를 JSON 형식의 문자열로 변환한다.
            var objJSON = JSON.stringify(book);
            document.getElementById("json").innerHTML=objJSON;
            
            var newJSON = '{"name":"Javascript","price":500,"publisher":"easy"}';
            
            //JSON 데이터를 자바스크립트의 객체로 변환한다.
            var newObj = JSON.parse(newJSON);
            
            /* 예상 객체
            {
                "name":"Javascript",
                "price":500,
                "publisher":"easy"
            }
            */
            
            alert(newObj.name);
            alert(newObj.price);
            alert(newObj.publisher);
        };
        
        
    </script>
</head>
<body>
    <h1 id="json">안녕하세요.</h1>
</body>
</html>