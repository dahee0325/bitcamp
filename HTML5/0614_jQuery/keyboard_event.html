<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>키보드 이벤트</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script>
        
        $(document).ready(function(){
            
            //키보드를 입력할때마다 이벤트 발생
            $('textarea').keyup(function(){
                
                var inputVal = $(this).val();
                //이벤트가 발생된 곳에서 value값의 길이값을 저장
                var inputLength = $(this).val().length;
                //150에서 입력된 글자값을 뺌
                var remain = 150 - inputLength;
                
                if(remain<1){
                    alert('150자 이하로 입력');
                    
                    //substr 문자열을 잘라주는 메서드 (0부터 150개까지의 문자열만가져옴)
                    var inStr = inputVal.substr(0,150);
                    //가져온 150까지의 문자를 이벤트가 일어난 곳 value값으로 넣어줌(150자 이상을 쓰게되면 문자가 잘림)
                    $(this).val(inStr);
                    //글자수를 다쓴상태 0으로 만들어줌(안해주면 -10 이런식으로뜸)
                    $('h2').html('0');
                    return;
                }
                
                $('h2').html(remain);
                
            });
        });
    
    </script>
</head>
<body>
    내용<br>
    <textarea></textarea>
    <h2>150</h2>
</body>
</html>